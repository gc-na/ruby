<!--
Meta Description: # Ruby 中的 "when" 语句：条件判断的强大工具 ## 概述 在 Ruby 编程语言中，`when` 是 `case` 语句的一部分，用于实现多条件判断。通过 `when` 关键字，开发者可以轻松地对一个表达式的不同结果执行不同的代码块，提高代码可读性和简洁性。 ## 文档 ### 目的 ...
Meta Keywords: when, puts, case, ruby, else
-->

# Ruby 中的 "when" 语句：条件判断的强大工具

## 概述
在 Ruby 编程语言中，`when` 是 `case` 语句的一部分，用于实现多条件判断。通过 `when` 关键字，开发者可以轻松地对一个表达式的不同结果执行不同的代码块，提高代码可读性和简洁性。

## 文档
### 目的
`when` 语句用于在 `case` 结构中进行条件判断，允许开发者根据不同的条件执行不同的代码块。它通常用于替代多个 `if...elsif` 语句，使代码更清晰。

### 用法
`when` 语句的基本结构如下：

```ruby
case 表达式
when 值1
  # 当表达式等于值1时执行的代码
when 值2
  # 当表达式等于值2时执行的代码
else
  # 当表达式不等于任何指定值时执行的代码
end
```

### 详细信息
- **表达式**：在 `case` 语句中，表达式的返回值将与后续的 `when` 值进行比较。
- **多个值**：`when` 语句支持多个值，可以用逗号分隔。例如：`when 值1, 值2`。
- **范围**：可以使用范围来匹配值，例如：`when (1..10)` 来匹配 1 到 10 之间的值。
- **类型比较**：`when` 语句可以对不同类型进行比较，例如数字、字符串等。

## 示例
### 基本用法
```ruby
number = 2

case number
when 1
  puts "数字是 1"
when 2
  puts "数字是 2"
else
  puts "数字不是 1 或 2"
end
```
输出：`数字是 2`

### 多个值
```ruby
color = "red"

case color
when "red", "green"
  puts "颜色是红色或绿色"
when "blue"
  puts "颜色是蓝色"
else
  puts "未知颜色"
end
```
输出：`颜色是红色或绿色`

### 范围
```ruby
age = 25

case age
when 0..12
  puts "儿童"
when 13..19
  puts "青少年"
when 20..65
  puts "成年人"
else
  puts "老年人"
end
```
输出：`成年人`

## 解释
- **常见陷阱**：使用 `case` 语句时，确保表达式的返回值与 `when` 值的类型一致。例如，字符串与数字之间的比较不会返回真。
- **缺省处理**：在没有匹配 `when` 的情况下，`else` 语句是可选的，但建议始终使用，以处理意外情况。
- **代码可读性**：使用 `case` 与 `when` 可以使长的条件判断更加清晰易读，尤其是当有多个条件时。

## 一句话总结
在 Ruby 中，`when` 语句为条件判断提供了简洁而强大的方式，适用于多种情况的处理。