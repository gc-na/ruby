<!--
Meta Description: # Ruby 中的 when 語句：用於條件判斷的完美工具 ## 摘要 `when` 是 Ruby 中用於條件判斷的語句，通常與 `case` 語句搭配使用，以便根據不同的條件執行相應的代碼塊。這種語法使得多重條件的判斷更加簡潔易讀。 ## 文檔 ### 目的 `when` 語句的主要目的是在 `c...
Meta Keywords: when, ruby, case, puts, else
-->

# Ruby 中的 when 語句：用於條件判斷的完美工具

## 摘要
`when` 是 Ruby 中用於條件判斷的語句，通常與 `case` 語句搭配使用，以便根據不同的條件執行相應的代碼塊。這種語法使得多重條件的判斷更加簡潔易讀。

## 文檔
### 目的
`when` 語句的主要目的是在 `case` 語句中進行多重條件判斷。這樣可以避免使用多個 `if` 和 `elsif`，使代碼更為清晰。

### 使用方法
在 Ruby 中，`when` 語句的基本結構如下：

```ruby
case 變量
when 條件1
  # 條件1成立時執行的代碼
when 條件2
  # 條件2成立時執行的代碼
else
  # 當所有條件均不成立時執行的代碼
end
```

### 詳細說明
- `case` 語句會評估其後的變量，並依據該變量的值進行相應的 `when` 判斷。
- 每個 `when` 後面可以跟一個或多個條件，如果變量的值與這些條件之一匹配，則執行相應的代碼塊。
- 如果所有的條件都不匹配，則可以使用 `else` 來處理預設情況。

## 示例
以下是使用 `when` 的基本示例：

```ruby
color = "紅色"

case color
when "紅色"
  puts "顏色是紅色"
when "藍色"
  puts "顏色是藍色"
when "綠色"
  puts "顏色是綠色"
else
  puts "顏色未知"
end
```

輸出結果將會是：
```
顏色是紅色
```

## 解釋
- **常見陷阱**：使用 `case` 語句時，變量的類型可能會影響匹配結果。確保要比較的值具有相同的類型，以避免意外結果。
- **注意事項**：`when` 語句支持範圍和模式匹配，這使得它在處理數字範圍時特別有用。例如：

```ruby
number = 10

case number
when 1..5
  puts "數字在範圍 1 到 5"
when 6..10
  puts "數字在範圍 6 到 10"
else
  puts "數字超出範圍"
end
```

此示例將輸出：
```
數字在範圍 6 到 10
```

## 一句總結
`when` 語句在 Ruby 中用於簡化多重條件判斷，使代碼更清晰易讀。