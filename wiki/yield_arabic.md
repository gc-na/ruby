<!--
Meta Description: # استخدام "yield" في لغة روبي: مفهوم وأمثلة مفيدة ## ملخص تُعتبر كلمة "yield" واحدة من العناصر الأساسية في لغة روبي، حيث تُستخدم لنقل التحكم من دالة إ...
Meta Keywords: yield, استخدام, إلى, الدالة, الكتلة
-->

# استخدام "yield" في لغة روبي: مفهوم وأمثلة مفيدة

## ملخص
تُعتبر كلمة "yield" واحدة من العناصر الأساسية في لغة روبي، حيث تُستخدم لنقل التحكم من دالة إلى كتلة (block) ويتم استخدامها بشكل شائع في البرمجة الوظيفية.

## الوثائق
### الغرض
تعمل كلمة "yield" على تسهيل تمرير التحكم بين دالة وكتلة، مما يسمح بتنفيذ كود معين داخل سياق الدالة. يمكن استخدامها لإنشاء دوال مرنة وقابلة لإعادة الاستخدام، مما يجعل الكود أكثر وضوحاً وتنظيماً.

### الاستخدام
تستخدم "yield" داخل الدوال للإشارة إلى نقطة حيث يمكن تنفيذ كتلة من الكود يتم تمريرها إلى الدالة. عند استدعاء الدالة، يتم تنفيذ الكود الموجود في الكتلة في نقطة "yield".

### التفاصيل
- **التركيب**: 
  ```ruby
  def method_name
    yield if block_given?
  end
  ```
- **المتطلبات**: يجب أن تحتوي الدالة على الكلمة "yield" ويجب تمرير كتلة عند استدعاء الدالة.
- **التحقق من وجود الكتلة**: يُنصح باستخدام `block_given?` للتحقق مما إذا كانت الكتلة قد تم تمريرها قبل استخدام "yield".

## الأمثلة
### مثال 1: استخدام yield بسيط
```ruby
def greet
  yield
end

greet { puts "مرحبا بالعالم!" }
```
**الإخراج**:
```
مرحبا بالعالم!
```

### مثال 2: تمرير معلمات إلى الكتلة
```ruby
def calculate_square(number)
  yield(number)
end

calculate_square(4) { |num| puts num * num }
```
**الإخراج**:
```
16
```

### مثال 3: استخدام yield مع الدوال
```ruby
def process_numbers(numbers)
  numbers.each do |number|
    yield(number)
  end
end

process_numbers([1, 2, 3]) { |num| puts num * 2 }
```
**الإخراج**:
```
2
4
6
```

## الشرح
### الأخطاء الشائعة
- **عدم التحقق من وجود الكتلة**: إذا لم يتم التحقق مما إذا كانت الكتلة موجودة باستخدام `block_given?`، فقد يؤدي ذلك إلى حدوث خطأ.
- **محاولة استخدام yield بدون كتلة**: إذا تم استدعاء دالة تحتوي على "yield" بدون كتلة، ستظهر رسالة خطأ.

### ملاحظات إضافية
- يُمكن استخدام "yield" مع معلمات، مما يسمح بتمرير بيانات من الدالة إلى الكتلة.
- يمكن استخدام "yield" عدة مرات داخل نفس الدالة.

## ملخص بعبارة واحدة
تستخدم كلمة "yield" في لغة روبي لنقل التحكم من دالة إلى كتلة، مما يوفر مرونة في تنفيذ الكود.