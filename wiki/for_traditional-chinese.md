<!--
Meta Description: # Ruby 中的 "for" 迴圈：用法與示例 ## 概述 在 Ruby 中，`for` 迴圈是用來遍歷集合（如數組或範圍）的控制結構。它提供了一種簡單直觀的方式來重複執行區塊中的代碼，直到遍歷完指定的元素。 ## 文檔 ### 目的 `for` 迴圈的主要目的是讓開發者能夠輕鬆地遍歷數據結構，執...
Meta Keywords: ruby, end, puts, each, variable
-->

# Ruby 中的 "for" 迴圈：用法與示例

## 概述
在 Ruby 中，`for` 迴圈是用來遍歷集合（如數組或範圍）的控制結構。它提供了一種簡單直觀的方式來重複執行區塊中的代碼，直到遍歷完指定的元素。

## 文檔
### 目的
`for` 迴圈的主要目的是讓開發者能夠輕鬆地遍歷數據結構，執行重複操作，從而提高代碼的可讀性和維護性。

### 用法
`for` 迴圈的基本語法如下：

```ruby
for variable in collection
  # 在這裡執行的代碼
end
```

- **variable**：每次迭代時將被賦值的變量。
- **collection**：可以是數組、範圍或其他可迭代的對象。

### 詳細說明
`for` 迴圈會按照集合中的元素順序依次將元素賦值給變量，並執行區塊內的代碼。它與其他迴圈結構（如 `each` 方法）功能相似，但語法上更接近傳統的迴圈結構。

## 示例
### 基本示例
以下是遍歷數組的簡單示例：

```ruby
numbers = [1, 2, 3, 4, 5]
for number in numbers
  puts number
end
```
輸出：
```
1
2
3
4
5
```

### 使用範圍
`for` 迴圈也可以與範圍一起使用：

```ruby
for i in 1..5
  puts i
end
```
輸出：
```
1
2
3
4
5
```

## 解釋
### 常見陷阱
1. **作用域問題**：在 `for` 迴圈中定義的變量在迴圈外仍然可用，這可能會導致意外的行為。例如：

   ```ruby
   for i in 1..3
     puts i
   end
   puts i  # 這裡 i 仍然可用，輸出 3
   ```

2. **與其他迴圈的選擇**：在 Ruby 中，`each` 方法通常被推薦使用，因為它在功能上更強大且語意上更清楚。`for` 迴圈更適合用於簡單的遍歷情境。

### 附加說明
- `for` 迴圈是 Ruby 的一部分，但在某些情況下，使用 `each` 方法來遍歷集合會更符合 Ruby 的風格。
- 使用 `for` 迴圈時，注意變量的作用域，以避免不必要的錯誤。

## 一句總結
`for` 迴圈在 Ruby 中提供了一種簡單有效的方式來遍歷集合，但需謹慎使用以避免作用域問題。